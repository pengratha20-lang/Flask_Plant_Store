<!-- Product Card Component -->
<div class="card product-card h-100 border-0 shadow-sm {% if product.clickable %}clickable-card{% endif %}" 
     {% if product.clickable %}data-product-url="{{ url_for('product.product_detail', product_id=product.id) }}"{% endif %}>
    <div class="position-relative overflow-hidden">
      <img src="{{ url_for('static', filename='images/' + product.image) }}" 
           class="card-img-top product-image" alt="{{ product.name }}">
      
      <div class="product-overlay">
        <div class="product-actions">
          <button class="btn btn-light btn-sm rounded-circle" title="Add to Wishlist" onclick="event.stopPropagation();">
            <i class="far fa-heart"></i>
          </button>
          <button class="btn btn-light btn-sm rounded-circle" title="Quick View" 
                  data-bs-toggle="modal" data-bs-target="#quickViewModal" onclick="event.stopPropagation();">
            <i class="far fa-eye"></i>
          </button>
        </div>
      </div>
      
      <!-- Category Badge -->
      {% if product.category == 'indoor' %}
        <span class="badge bg-success position-absolute top-0 start-0 m-3">Indoor</span>
      {% elif product.category == 'outdoor' %}
        <span class="badge bg-info position-absolute top-0 start-0 m-3">Outdoor</span>
      {% elif product.category == 'pot' %}
        <span class="badge bg-primary position-absolute top-0 start-0 m-3">Pots</span>
      {% elif product.category == 'accessories' %}
        <span class="badge bg-warning position-absolute top-0 start-0 m-3">Accessories</span>
      {% endif %}
      
      <!-- Special Badges -->
      {% if product.is_popular %}
        <span class="badge bg-warning position-absolute top-0 end-0 m-3">Popular</span>
      {% elif product.is_new %}
        <span class="badge bg-success position-absolute top-0 end-0 m-3">New</span>
      {% elif product.is_on_sale %}
        <span class="badge bg-danger position-absolute top-0 end-0 m-3">Sale</span>
      {% endif %}
    </div>
    
    <div class="card-body p-4">
      <div class="d-flex justify-content-between align-items-start mb-2">
        <h5 class="card-title mb-0 text-truncate" style="max-width: 200px;">{{ product.name }}</h5>
        
        {% if product.rating %}
        <div class="rating">
          {% for i in range(5) %}
            {% if i < product.rating|int %}
              <i class="fas fa-star text-warning"></i>
            {% else %}
              <i class="far fa-star text-warning"></i>
            {% endif %}
          {% endfor %}
          <small class="text-muted ms-1">({{ product.rating }})</small>
        </div>
        {% endif %}
      </div>
      
      {% if product.description %}
      <p class="card-text text-muted small mb-3 text-truncate-2-lines">{{ product.description }}</p>
      {% endif %}
      
      <div class="d-flex justify-content-between align-items-center">
        <div>
          <span class="h5 mb-0 text-success fw-bold">${{ "%.2f"|format(product.price) }}</span>
          {% if product.original_price and product.original_price > product.price %}
            <small class="text-muted text-decoration-line-through ms-2">${{ "%.2f"|format(product.original_price) }}</small>
          {% endif %}
        </div>
        
        <button class="btn btn-success btn-sm add-to-cart-btn" 
                data-product-id="{{ product.id }}" 
                data-product-name="{{ product.name }}" 
                data-product-price="{{ product.price }}" 
                data-product-image="{{ url_for('static', filename='images/' + product.image) }}"
                data-product-category="{{ product.category }}">
          <i class="fas fa-cart-plus me-1"></i>Add to Cart
        </button>
      </div>
    </div>
  </div>